# Estrutura do Projeto - Sistema de Controle Financeiro

## üìÅ Estrutura de Pastas Completa

```
controle-financeiro/
‚îú‚îÄ‚îÄ üìÑ package.json
‚îú‚îÄ‚îÄ üìÑ next.config.js
‚îú‚îÄ‚îÄ üìÑ tailwind.config.js
‚îú‚îÄ‚îÄ üìÑ tsconfig.json
‚îú‚îÄ‚îÄ üìÑ .env.local
‚îú‚îÄ‚îÄ üìÑ .gitignore
‚îú‚îÄ‚îÄ üìÑ README.md
‚îÇ
‚îú‚îÄ‚îÄ üìÅ public/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ favicon.ico
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ icones/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ logo.svg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ receita.svg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ despesa.svg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ transferencia.svg
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ imagens/
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ placeholder.jpg
‚îÇ
‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ layout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx (Dashboard)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ globals.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ loading.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ error.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ transacoes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ loading.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ nova/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ editar/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ [id]/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ parcelada/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ relatorios/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ metas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ nova/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ editar/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ [id]/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ graficos/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ nova/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ editar/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ [id]/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ categorias/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ nova/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ editar/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ [id]/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ configuracoes/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ componentes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ layout/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cabecalho.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ menu-lateral.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ rodape.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ navegacao-mobile.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cartao-resumo.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ grafico-categorias.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ ultimas-transacoes.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ resumo-mensal.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ transacoes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ lista-transacoes.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formulario-transacao.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formulario-receita.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formulario-despesa.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formulario-transferencia.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formulario-parcelada.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ item-transacao.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ filtros-transacao.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ modal-confirmar-exclusao.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ upload-anexo.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ metas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ grafico-barras-metas.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ lista-metas.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cartao-meta.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formulario-meta.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ progresso-meta.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ alerta-meta.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ graficos/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ grafico-pizza.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ grafico-barras.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ grafico-linha.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ grafico-evolucao.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ formularios/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ campo-texto.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ campo-numero.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ campo-data.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ campo-select.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ campo-checkbox.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ campo-textarea.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ campo-upload.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ui/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ botao.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ modal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ card.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ badge.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ loading.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ alerta.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ tooltip.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ separador.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ comum/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ formatador-moeda.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ formatador-data.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ icone-categoria.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ seletor-icone.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ paginacao.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ servicos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ supabase/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cliente.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ transacoes.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ categorias.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ contas.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ metas.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ subcategorias.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formas-pagamento.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ centros-custo.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ anexos.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ relatorios/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ calculos-saldo.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ calculos-meta.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ dados-grafico.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ exportacao.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ recorrencia/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ gerador-transacoes.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ calculador-datas.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ processador-recorrencia.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-transacoes.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-categorias.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-contas.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-metas.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-saldos.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-filtros.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-paginacao.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ usar-formulario.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ usar-upload.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ tipos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ transacao.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ categoria.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ conta.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ meta.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ subcategoria.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ forma-pagamento.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ centro-custo.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ filtros.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ grafico.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ comum.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ utilitarios/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ formatacao.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ validacao.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ datas.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ calculos.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cores.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ icones.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ constantes.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contextos/ (Context API)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ transacoes-contexto.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ categorias-contexto.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ contas-contexto.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ metas-contexto.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ app-contexto.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ middleware.ts
‚îÇ
‚îî‚îÄ‚îÄ üìÅ docs/
    ‚îú‚îÄ‚îÄ üìÑ schema.sql
    ‚îú‚îÄ‚îÄ üìÑ API Documentation.txt
    ‚îú‚îÄ‚îÄ üìÑ Estrutura do Projeto.txt
    ‚îú‚îÄ‚îÄ üìÑ PRD.txt
    ‚îú‚îÄ‚îÄ üìÑ README.txt
    ‚îú‚îÄ‚îÄ üìÑ Checklist de Implementa√ß√£o.txt
    ‚îî‚îÄ‚îÄ üìÅ wireframes/
        ‚îú‚îÄ‚îÄ üìÑ dashboard.png
        ‚îú‚îÄ‚îÄ üìÑ transacoes.png
        ‚îî‚îÄ‚îÄ üìÑ relatorios.png
```

---

## üîß Configura√ß√µes Principais

### package.json
```json
{
  "name": "controle-financeiro",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "next": "14.2.5",
    "react": "^18",
    "react-dom": "^18",
    "@supabase/supabase-js": "^2.45.0",
    "recharts": "^2.8.0",
    "date-fns": "^3.6.0",
    "lucide-react": "^0.263.1",
    "tailwindcss": "^3.4.0",
    "typescript": "^5",
    "@radix-ui/react-dialog": "^1.0.5",
    "@radix-ui/react-select": "^2.0.0",
    "@radix-ui/react-toast": "^1.1.5",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.0",
    "tailwind-merge": "^2.3.0"
  },
  "devDependencies": {
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "eslint": "^8",
    "eslint-config-next": "14.2.5"
  }
}
```

### .env.local
```env
# Supabase - Projeto: nzgifjdewdfibcopolof
NEXT_PUBLIC_SUPABASE_URL=https://nzgifjdewdfibcopolof.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56Z2lmamRld2RmaWJjb3BvbG9mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0NjA4NDAsImV4cCI6MjA2MzAzNjg0MH0.O7MKZNx_Cd-Z12iq8h0pq6Sq0bmJazcxDHvlVb4VJQc

# Chave secreta service_role (usar apenas no servidor/desenvolvimento)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56Z2lmamRld2RmaWJjb3BvbG9mIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NzQ2MDg0MCwiZXhwIjoyMDYzMDM2ODQwfQ.6D9JGbSXzQZtFSu96hA_4cTtde8C3G-WwPG3C4Ta5n0

# Ambiente
NODE_ENV=development

# URLs
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SUPABASE_STORAGE_URL=https://nzgifjdewdfibcopolof.supabase.co/storage/v1/object/public

# Configura√ß√µes da aplica√ß√£o
NEXT_PUBLIC_APP_NAME="Controle Financeiro"
NEXT_PUBLIC_MAX_FILE_SIZE=5242880
```

### next.config.js
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    appDir: true,
  },
  images: {
    domains: [
      'nzgifjdewdfibcopolof.supabase.co', // Supabase Storage
    ],
  },
  async redirects() {
    return [
      {
        source: '/',
        destination: '/dashboard',
        permanent: false,
      },
    ]
  },
}

module.exports = nextConfig
```

### tailwind.config.js
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        receita: {
          50: '#f0fdf4',
          500: '#22c55e',
          600: '#16a34a',
        },
        despesa: {
          50: '#fef2f2',
          500: '#ef4444',
          600: '#dc2626',
        },
        transferencia: {
          50: '#eff6ff',
          500: '#3b82f6',
          600: '#2563eb',
        },
      },
    },
  },
  plugins: [],
}
```

---

## üì± Estrutura Modular Explicada

### 1. Organiza√ß√£o por Funcionalidade

#### üìÅ `/app` - P√°ginas (App Router)
Estrutura baseada em rotas do Next.js 13+ com nomes em portugu√™s:
```
/dashboard ‚Üí P√°gina inicial
/transacoes ‚Üí Lista de transa√ß√µes
/transacoes/nova ‚Üí Cadastrar nova
/relatorios ‚Üí P√°gina de relat√≥rios e metas
/contas ‚Üí Gest√£o de contas
/categorias ‚Üí Gest√£o de categorias
```

#### üìÅ `/componentes` - Componentes Reutiliz√°veis
Organizado por contexto de uso:
- **layout/**: Componentes estruturais (cabe√ßalho, menu)
- **dashboard/**: Espec√≠ficos da tela principal
- **transacoes/**: Formul√°rios e listas de transa√ß√µes
- **metas/**: Gr√°ficos e controles de metas
- **ui/**: Componentes base (bot√µes, modais)

#### üìÅ `/servicos` - L√≥gica de Neg√≥cio
Separa√ß√£o clara de responsabilidades:
- **supabase/**: Comunica√ß√£o com banco
- **relatorios/**: C√°lculos e processamento
- **recorrencia/**: L√≥gica de transa√ß√µes recorrentes

### 2. Conven√ß√µes de Nomenclatura

#### Arquivos TypeScript
```typescript
// ‚úÖ Correto - Kebab case em portugu√™s
formulario-transacao.tsx
lista-transacoes.tsx
calculos-saldo.ts
usar-transacoes.ts

// ‚ùå Evitar - Ingl√™s
transaction-form.tsx
useTransactions.ts
```

#### Componentes
```typescript
// ‚úÖ Correto - PascalCase em portugu√™s
export default function FormularioTransacao() {}
export function ListaTransacoes() {}

// ‚ùå Evitar - Ingl√™s
export default function TransactionForm() {}
```

#### Vari√°veis e Fun√ß√µes
```typescript
// ‚úÖ Correto - camelCase em portugu√™s
const dadosTransacao = {};
const calcularSaldoTotal = () => {};

// ‚ùå Evitar - Ingl√™s
const transactionData = {};
const calculateTotalBalance = () => {};
```

### 3. Estrutura de Tipos TypeScript

#### `/tipos/transacao.ts`
```typescript
export interface Transacao {
  id: string;
  data: string;
  descricao: string;
  valor: number; // DECIMAL(10,2) - valores em reais
  tipo: 'receita' | 'despesa' | 'transferencia';
  categoria_id?: string;
  conta_id: string;
  conta_destino_id?: string;
  grupo_parcelamento?: number; // BIGINT para suportar Date.now()
  status: 'pendente' | 'pago' | 'cancelado';
  recorrente: boolean;
  // ... outros campos
}

export interface NovaTransacao extends Omit<Transacao, 'id'> {}

export interface FiltrosTransacao {
  dataInicio?: string;
  dataFim?: string;
  categoriaId?: string;
  contaId?: string;
  tipo?: Transacao['tipo'];
  status?: Transacao['status'];
}
```

### 4. Context API e Hooks Customizados

#### `/contextos/transacoes-contexto.tsx`
```typescript
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { obterTransacoes } from '@/servicos/supabase/transacoes';

interface TransacoesContextoType {
  transacoes: Transacao[];
  carregando: boolean;
  erro: string | null;
  recarregar: () => Promise<void>;
}

const TransacoesContexto = createContext<TransacoesContextoType | undefined>(undefined);

export function TransacoesProvider({ children }: { children: ReactNode }) {
  const [transacoes, setTransacoes] = useState<Transacao[]>([]);
  const [carregando, setCarregando] = useState(true);
  const [erro, setErro] = useState<string | null>(null);

  const recarregarTransacoes = async () => {
    try {
      setCarregando(true);
      const dados = await obterTransacoes();
      setTransacoes(dados);
    } catch (error) {
      setErro('Erro ao carregar transa√ß√µes');
    } finally {
      setCarregando(false);
    }
  };

  useEffect(() => {
    recarregarTransacoes();
  }, []);

  return (
    <TransacoesContexto.Provider value={{
      transacoes,
      carregando,
      erro,
      recarregar: recarregarTransacoes
    }}>
      {children}
    </TransacoesContexto.Provider>
  );
}

export function useTransacoesContexto() {
  const contexto = useContext(TransacoesContexto);
  if (contexto === undefined) {
    throw new Error('useTransacoesContexto deve ser usado dentro de TransacoesProvider');
  }
  return contexto;
}
```

#### `/hooks/usar-transacoes.ts` (Hook simples para componentes locais)
```typescript
import { useState, useEffect } from 'react';
import { obterTransacoes } from '@/servicos/supabase/transacoes';

export function usarTransacoes() {
  const [transacoes, setTransacoes] = useState<Transacao[]>([]);
  const [carregando, setCarregando] = useState(true);
  const [erro, setErro] = useState<string | null>(null);

  const recarregarTransacoes = async () => {
    try {
      setCarregando(true);
      const dados = await obterTransacoes();
      setTransacoes(dados);
    } catch (error) {
      setErro('Erro ao carregar transa√ß√µes');
    } finally {
      setCarregando(false);
    }
  };

  useEffect(() => {
    recarregarTransacoes();
  }, []);

  return {
    transacoes,
    carregando,
    erro,
    recarregar: recarregarTransacoes
  };
}
```

### 5. Servi√ßos Supabase

### `/servicos/supabase/cliente.ts`
```typescript
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

// Cliente principal para uso no frontend
export const supabase = createClient(supabaseUrl, supabaseAnonKey)

// Cliente administrativo (apenas para opera√ß√µes server-side)
export const supabaseAdmin = createClient(
  supabaseUrl,
  process.env.SUPABASE_SERVICE_ROLE_KEY!,
  {
    auth: {
      autoRefreshToken: false,
      persistSession: false
    }
  }
)

// Configura√ß√£o do Storage para anexos
export const STORAGE_BUCKET = 'anexos-transacoes'
export const MAX_FILE_SIZE = 5 * 1024 * 1024 // 5MB
export const ALLOWED_FILE_TYPES = [
  'image/jpeg',
  'image/png', 
  'image/webp',
  'application/pdf'
]
```
```typescript
import { supabase } from './cliente';
import type { Transacao, NovaTransacao } from '@/tipos/transacao';

export async function obterTransacoes(): Promise<Transacao[]> {
  const { data, error } = await supabase
    .from('fp_transacoes')
    .select(`
      *,
      categorias:fp_categorias(nome, cor),
      contas:fp_contas(nome)
    `)
    .order('data', { ascending: false });

  if (error) throw error;
  return data || [];
}

export async function criarTransacao(transacao: NovaTransacao): Promise<Transacao> {
  const { data, error } = await supabase
    .from('fp_transacoes')
    .insert([transacao])
    .select()
    .single();

  if (error) throw error;
  return data;
}

export async function atualizarTransacao(
  id: string, 
  atualizacoes: Partial<Transacao>
): Promise<void> {
  const { error } = await supabase
    .from('fp_transacoes')
    .update(atualizacoes)
    .eq('id', id);

  if (error) throw error;
}

export async function excluirTransacao(id: string): Promise<void> {
  const { error } = await supabase
    .from('fp_transacoes')
    .delete()
    .eq('id', id);

  if (error) throw error;
}
```

---

## üé® Padr√µes de Componentes

### Componente de Lista
```typescript
// /componentes/transacoes/lista-transacoes.tsx
interface ListaTransacoesProps {
  transacoes: Transacao[];
  aoEditarTransacao: (id: string) => void;
  aoExcluirTransacao: (id: string) => void;
}

export function ListaTransacoes({ 
  transacoes, 
  aoEditarTransacao, 
  aoExcluirTransacao 
}: ListaTransacoesProps) {
  return (
    <div className="space-y-2">
      {transacoes.map((transacao) => (
        <ItemTransacao
          key={transacao.id}
          transacao={transacao}
          aoEditar={() => aoEditarTransacao(transacao.id)}
          aoExcluir={() => aoExcluirTransacao(transacao.id)}
        />
      ))}
    </div>
  );
}
```

### Componente de Formul√°rio
```typescript
// /componentes/transacoes/formulario-receita.tsx
interface FormularioReceitaProps {
  aoSalvar: (dados: NovaTransacao) => void;
  aoCancelar: () => void;
  carregando?: boolean;
}

export function FormularioReceita({ 
  aoSalvar, 
  aoCancelar, 
  carregando = false 
}: FormularioReceitaProps) {
  const [dados, setDados] = useState<Partial<NovaTransacao>>({
    tipo: 'receita',
    status: 'pago'
  });

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (validarDados(dados)) {
      aoSalvar(dados as NovaTransacao);
    }
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      {/* Campos do formul√°rio */}
    </form>
  );
}
```

---

## üöÄ Comandos de Desenvolvimento

### Setup Inicial
```bash
# Criar projeto
npx create-next-app@latest controle-financeiro --typescript --tailwind --app

# Instalar depend√™ncias principais
cd controle-financeiro
npm install @supabase/supabase-js recharts date-fns lucide-react

# Configurar shadcn/ui
npx shadcn-ui@latest init

# Instalar componentes shadcn/ui necess√°rios
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add form
npx shadcn-ui@latest add input
npx shadcn-ui@latest add select
npx shadcn-ui@latest add toast
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add table

# Configurar vari√°veis de ambiente
cp .env.example .env.local
# Editar .env.local com suas credenciais Supabase
```

### Desenvolvimento
```bash
# Iniciar servidor de desenvolvimento
npm run dev

# Build para produ√ß√£o
npm run build

# Iniciar servidor produ√ß√£o
npm run start

# Linting
npm run lint
```

### Scripts √öteis
```bash
# Gerar tipos TypeScript do Supabase
npx supabase gen types typescript --project-id seu-projeto > src/tipos/supabase.ts

# Executar migra√ß√µes
npx supabase db push

# Reset do banco local
npx supabase db reset
```


---

**Estrutura criada com foco em:**
- ‚úÖ **Nomes em PT-BR** para facilitar compreens√£o
- ‚úÖ **Modularidade** com separa√ß√£o clara de responsabilidades
- ‚úÖ **Escalabilidade** preparada para crescimento
- ‚úÖ **Manutenibilidade** com padr√µes consistentes
- ‚úÖ **TypeScript** para seguran√ßa de tipos