## ğŸ”¹ Fluxo da importaÃ§Ã£o 

1. **Upload do CSV**

   * UsuÃ¡rio arrasta o arquivo â†’ sistema faz parsing das linhas.
   * Mostra uma *prÃ©via* (ex: 10 primeiras linhas) sÃ³ pra dar confianÃ§a.

---

2. **Motor de classificaÃ§Ã£o automÃ¡tica (busca similaridade)**
   Para cada linha nova:

   * Procurar no **histÃ³rico de transaÃ§Ãµes**:
     *Match exato*: mesma descriÃ§Ã£o.
     *Match parcial*: `LIKE` em palavras-chave (`%UBER%`, `%IFOOD%`).
   * Se achar â†’ traz categoria/subcategoria/fornecedor automaticamente.
   * Se nÃ£o achar â†’ marca como â€œpendenteâ€.

---

3. **Resumo inicial (cards + relatÃ³rio)**
   Antes de mostrar a tabela toda:

   * 2 cards de resumo (Entradas / SaÃ­das).
   * Um relatÃ³rio simples:

     * `X% transaÃ§Ãµes classificadas automaticamente`
     * `Y transaÃ§Ãµes pendentes de classificaÃ§Ã£o`

   ğŸ‘‰ Isso jÃ¡ dÃ¡ clareza pro usuÃ¡rio: â€œa maior parte jÃ¡ estÃ¡ resolvida, sÃ³ falta revisar o restoâ€.

---

4. **Tela de prÃ©-visualizaÃ§Ã£o (tabela)**

   * Todas as transaÃ§Ãµes listadas.
   * Colunas: Data, DescriÃ§Ã£o, Valor, Categoria, Subcategoria, Centro de Custo, Fornecedor.
   * Campos preenchidos automaticamente quando bateu similaridade.
   * Linhas pendentes ficam destacadas (ex: cor diferente, badge â€œnÃ£o classificadoâ€).

---

5. **Modal de classificaÃ§Ã£o rÃ¡pida (para pendentes)**

   * UsuÃ¡rio clica na linha pendente â†’ abre modal.
   * Modal sugere opÃ§Ãµes (ex.: categorias mais usadas com descriÃ§Ãµes parecidas).
   * UsuÃ¡rio escolhe e confirma.
   * BotÃ£o: *â€œAplicar esta escolha sempre que encontrar algo parecidoâ€* â†’ cria regra de similaridade.

---

6. **ConfirmaÃ§Ã£o final**

   * BotÃ£o *â€œImportarâ€*.
   * Tudo que foi classificado vai para a tabela `transacoes`.
   * O que o usuÃ¡rio classificou manualmente tambÃ©m jÃ¡ entra com a regra salva.

---

## ğŸ”¹ Boas prÃ¡ticas embutidas nesse fluxo

* **Nada de hardcoding** â†’ todo aprendizado vem de histÃ³rico ou regra gravada no banco.
* **Feedback imediato** â†’ cards de resumo mostram o que jÃ¡ deu certo.
* **CorreÃ§Ã£o on-the-fly** â†’ modal resolve pendÃªncias sem sair do fluxo.
* **Aprendizado contÃ­nuo** â†’ cada correÃ§Ã£o do usuÃ¡rio deixa o sistema mais inteligente.
* **Escalabilidade** â†’ funciona bem tanto para usuÃ¡rio Ãºnico (financeiro pessoal) quanto multiusuÃ¡rio (SaaS).

---

ğŸ“Œ **Exemplo real** (trazendo pra vida prÃ¡tica):
UsuÃ¡rio importa CSV com 100 linhas:

* O sistema reconhece 75% (porque jÃ¡ viu antes no histÃ³rico).
* Mostra 25 linhas pendentes.
* UsuÃ¡rio corrige 10 linhas no modal e marca como â€œsempre aplicarâ€.
* PrÃ³xima vez, essas 10 jÃ¡ virÃ£o classificadas automaticamente.

tudo isso tem que 



- Siga estritamente a cultura do cÃ³digo existente e as instruÃ§Ãµes do arquivo @CLAUDE.md.

- se houver criticas sobre o plano, quero ouvir sugestÃµes

- ser gerados perguntas para que nÃ£o aja surpresas do que a ia ir acriar frente a expectativa do desenvolvedor 
